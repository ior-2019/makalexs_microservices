# makalexs_microservices
makalexs microservices repository

# Выполнено ДЗ №2
 - Работа с репозиторием _microservices
 - Создание интеграции с чатом для вышеуказанного репозитория и подключение TravisCI
 - Создание docker host
 - Создание своего образа
 - Работа с Docker Hub

## В процессе сделано:
 - Репозиторий _microservices клонирован на рабочую машину и работа ведется в директории docker-monolith, добавлен шаблон Pull Request
 - Установлен Docker и запущен первый контейнер
 - Отработали основные команды docker
 - *Сравнил вывод команд docker inspect, результат записал в docker-1.log
 - Настроена работа с GCE, через docker-machine создан docker host
 - Повторена практика namespace из лекции
 - Репозиторий _microservices выстроен как нужно, созданы основные файлы для создания контейнера и запуска на нем приложения, выполнена сборка образа и запуск контейнера
 - Настроена работа с Docker Hub, запушен первый образ, выполнен запуск контейнера из этого образа
 - *Реализована работа с Terraform, Ansible, Packer в директории ./infra, для работы с контейнерами

## PR checklist
 - Выставил label с темой домашнего задания


# Выполнено ДЗ №3
 - Научился описывать и собирать Docker-образы для сервисного приложения
 - Научился оптимизировать работу с Docker-образами
 - Выполнен запуск и работа приложения на основе Docker-образов, оценка удобства запуска контейнеров при помощи docker run

## В процессе сделано:
 - Выполнены подготовительные работы для запуска приложения: скачать и распаковах архив приложения, состоящий из 3 компонентов post, ui, comment
 - Созданы Dockerfiles для 3 компонентов post, ui, comment
 - Создан образ MongoDB
 - Прозведен запуск приложения
 - *Произведен перезапуск приложения с другими сетевыми алиасами
 - Улучшен образ ui
 - *Создан образ ui на основе Alpine
 - Перезапущено приложение с volume

## PR checklist
 - Выставил label с темой домашнего задания


# Выполнено ДЗ №4
 - Научился работать с сетями в Docker
 - Научился использовать docker-compose

## В процессе сделано:
 - Подготовил и настройл окружение
 - Запустил образы с drivers: none, host, bridge, просмотрел созданные namespaces
 - Создана новая docker сеть типа bridge, перезапущены контейнеры с новыми network aliases
 - Просмотрены созданные записи iptables на docker host
 - Установлен docker-compose, при помощи него запущено приложение (с использованием переменных)
 - Настроен новый префикс для контейнеров - COMPOSE_PROJECT_NAME=microservices
 - *Создан docker-composer.override.yml (подключение volume к ui, start puma with --debug and -w 2)

## PR checklist
 - Выставил label с темой домашнего задания
 
# Выполнено ДЗ №4
 - Научился описывать и собирать Docker-образы для сервисного приложения
 - Научился оптимизировать работу с Docker-образами
 - Выполнен запуск и работа приложения на основе Docker-образов, оценка удобства запуска контейнеров при помощи docker run

## В процессе сделано:
 - Выполнены подготовительные работы для запуска приложения: скачать и распаковах архив приложения, состоящий из 3 компонентов post, ui, comment
 - Созданы Dockerfiles для 3 компонентов post, ui, comment
 - Создан образ MongoDB
 - Прозведен запуск приложения
 - *Произведен перезапуск приложения с другими сетевыми алиасами
 - Улучшен образ ui
 - *Создан образ ui на основе Alpine
 - Перезапущено приложение с volume

## PR checklist
 - Выставил label с темой домашнего задания


# Выполнено ДЗ №4
 - Подготовил инсталляцию Gitlab CI
 - Подготовил репозиторий с кодом приложения
 - Описал для приложения этапы пайплайна
 - Определил окружения

## В процессе сделано:
 - На новой мощной виртуальной машине установил Gitlab CI через docker
 - Gitlab CI и настроен (проект, группа), добавлен в качестве внешнего git remote repository
 - Создан файл .gitlab-ci.yml, протестированы pipeline
 - Добавлен Runner для автоматического запуска pipeline
 - В процесс pipeline добавлено автоматическое прохождение тестов для приложения
 - В процесс pipeline добавлено автоматическое создание окружений, протестированы условия и ограничения, динамические окружения
 - *В шаг build добавлена сборка контейнера с приложением reddit
 - *Продумана автоматизация развертывания и регистрации Gitlab CI Runner
 - *Настроена интеграция pipeline с тестовым slack-чатом

## PR checklist
 - Выставил label с темой домашнего задания


# Выполнено ДЗ №5
 - Prometheus: выполнены запуск, конфигурация, знакомство с Web UI
 - Настроен мониторинг состояния микросервисов
 - Произведен сбор метрик хоста с использованием экспортера
 - Выполнено одно задание со * - добавлен мониторинг с использованием mongodb_exporter

## В процессе сделано:
 - Подготовлено окружение для Prometheus, установка и запуск системы мониторинга
 - Проведено знакомство с web интерфейсом Prometheus
 - Проведено упорядочивание структуры директории microservices
 - Создан образ Prometheus, произведен запуск всех микросервисов вместе с Prometheus
 - Проведено знакомство с результатами мониторинга микросервисов через Prometheus (вместе с эмуляцией проблем)
 - Проведена настройка мониторинга Docker host через Node Exporter
 - *Проведена настройка мониторинга Mondodb через Mongodb Exporter

## PR checklist
 - Выставил label с темой домашнего задания
 - Ссылка на Docker Hub - https://cloud.docker.com/u/makalexs/repository/docker/makalexs/prometheus


# Выполнено ДЗ №6
 - Мониторинг Docker контейнеров
 - Визуализация метрик
 - Сбор метрик работы приложения и бизнес метрик
 - Настройка и проверка алертинга
 - Решение заданий со ⭐ (необязательных)

## В процессе сделано:
 - Подготовлено окружение для Prometheus, установка и запуск системы мониторинга (вместе с контейнерами приложений), docker-compose разделен на 2 части: для приложений и мониторинга
 - Запущен cAdvisor для наблюдения за состоянием наших Docker контейнеров, запуск через docker-compose для мониторинга, пересобран образ Prometheus, произведено знакомство с cAdvisor UI
 - Запущена Grafana через docker-compose для мониторинга, пересобран образ Prometheus, произведено знакомство с Grafana UI (дашборды и панели, метрики и т.п.), настроены мониторинги приложений
 - Добавлены мониторинги метрик разных приложений в Prometheus, пересобран образ Prometheus
 - В Grafana настроены панели с использованием Graph, произведено знакомство с гистограммами, процентилями
 - Настроены панели для сбора биснес метрик в Grafana
 - Запущен alertmanager через созданный образ и добавление в docker-compose мониторинга, Prometheus настроен для работы с alertmanager, пересобран образ Prometheus, проведен тест алертинга в слак
 - * Создан Makefile для сбора, пушинга и запуска всех контейнеров 

## PR checklist
 - Выставил label с темой домашнего задания
 - Ссылка на Docker Hub - https://cloud.docker.com/u/makalexs/repository/docker/makalexs/


# Выполнено ДЗ №7
 - Сбор неструктурированных логов
 - Визуализация логов
 - Сбор структурированных логов
 - Распределенная трасировка
 - Решение заданий со ⭐ (необязательных)

## В процессе сделано:
 - Подготовил окружение, обновил код микросервисов
 - Установил EL(F)K (ElasticSearch, Logstash(вместо него Fluentd), Kibana)
 - Проведена работа со структурированными логами
 - Переключены логи на Fluentd, логи просмотрены в Kibana, осуществлено знакомство с Kibana UI
 - Добавлены фильтры во Fluentd
 - Проведена работа с неструктурированными логами, для этого настроен парсинг во Fluentd + отдельно парсинг через grok-patterns
 - *Добавлен парсинг оставшихся неразобранных логов service ui
 - Настроен Zipkin для просмотра распределенного трейсинга
 - *Проведено исследование проблемы долгого отображения комментария к посту через Zipkin

## PR checklist
 - Выставил label с темой домашнего задания
 - Ссылка на Docker Hub - https://cloud.docker.com/u/makalexs/repository/docker/makalexs/

# Выполнено ДЗ №8
 - Разобрал на практике все компоненты Kubernetes, развернуть их вручную используя The Hard Way
 - Ознакомился с описанием основных примитивов нашего приложения и его дальнейшим запуском в Kubernetes

## В процессе сделано:
 - Разобрать на практике все компоненты Kubernetes, развернуть их вручную используя The Hard Way
 - Ознакомиться с описанием основных примитивов нашего приложения и его дальнейшим запуском в Kubernetes

## PR checklist
 - Выставил label с темой домашнего задания
 - Ссылка на Docker Hub - https://cloud.docker.com/u/makalexs/repository/docker/makalexs/
 

# Выполнено ДЗ №9
 - Развернул локальное окружение для работы с Kubernetes
 - Развернул Kubernetes в GKE
 - Запустил reddit в Kubernetes

## В процессе сделано:
 - Развернул локальное окружениие при помощи Minikube (hypervisor = HyperV)
 - Рассмотрел методы работы с minikube при помощи kubectl
 - Запустил приложение reddit в minikube при помощи kubectl, для этого добавил проброс портов, сервисы
 - Научился работать с namespaces
 - Развернул кластер kubernetes при помощи Google Kubernetes Engine, выложил в него приложение
 - *Развернул кластер kubernetes при помощи Terraform

## PR checklist
 - Выставил label с темой домашнего задания
 - Ссылка на Docker Hub - https://cloud.docker.com/u/makalexs/repository/docker/makalexs/


# Выполнено ДЗ №10
 - Проработаны вопросы: Ingress Controller, Ingress, Secret, TLS, LoadBalancer Service, Network Policies, PersistentVolumes, PersistentVolumeClaims
 - Отработаны вопросы сетевого взаимодействия, работа с Service, Node Port и т.п.

## В процессе сделано:
 - Настроен кластер kubernetes (из прошлого урока)
 - Проверены моменты работы с kube-dns и без него
 - Отработаны вопросы сетевого взаимодействия, работа с Service, Node Port, LoadBalancer, Ingress, Secret, TLS
 - Настрены Network Policies
 - Отработана методика взаимодействия в кластере через Volumes and Volumes Claims
 

## PR checklist
 - Выставил label с темой домашнего задания
 - Ссылка на Docker Hub - https://cloud.docker.com/u/makalexs/repository/docker/makalexs/
 

# Выполнено ДЗ №11
 - Отработаны моменты работы с Helm
 - Произведено развертывание Gitlab в Kubernetes
 - Осуществлен запуск CI/CD конвейера в Kubernetes

## В процессе сделано:
 - Произведена установка Helm
 - Созданы Charts для установки нашего приложения через Helm
 - Настроены зависимости для установки всего приложения
 - Через Chart установлен Gitlab
 - Запущены и настроены проект
 - Настроены CI/CD для проектов
 
## PR checklist
 - Выставил label с темой домашнего задания
 - Ссылка на Docker Hub - https://cloud.docker.com/u/makalexs/repository/docker/makalexs/
